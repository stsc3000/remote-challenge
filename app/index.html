<!DOCTYPE html>
<html lang="en">
  <head>
    <meta charset="utf-8">
    <title>Email Client</title>
    <link rel="stylesheet" href="css/style.css">
    <link href='http://fonts.googleapis.com/css?family=Roboto:400,700,400italic' rel='stylesheet' type='text/css'>
    <script src="app.js"></script>
  </head>
  <body>
    <div id='email-app'>
      <div class='row'>
        <div class='col' id='messages-list'></div>
        <div class='col' id='messages-detail'></div>
      </div>
    </div>

    <script id='messages-list-template' type='x-tmpl-handlebars'>
      <div id='messages-filters'>
        <label>
          <input type="checkbox" data-rel='messages-filters-show-read' {{#if showRead}} checked {{/if}}>
          Show Read
        </label>
      </div>
      <ul id='message-groups'>
        {{#each messageGroups}}
          <li class='message-group'>
            <div class='message-group-header'>
              <h2>{{dateString}}</h2>
            </div>
            <ul class='message-group-list'>
              {{#each messages}}
                <li class='message-group-list-item {{#if read}} read {{/if}}' data-message-id='{{_id}}'>
                  <div class='message-group-list-item-header'>
                    <div class='half'><b> {{ fromName }} </b></div>
                    <div class='half text-right'> {{ time }} </div>
                  </div>
                  {{ subject }}
                </li>
              {{/each}}
            </ul>
          </li>
        {{/each}}
      </ul>
    </script>

    <script id='messages-detail-template' type='x-tmpl-handlebars'>
      <div id='messages-detail-container'>
        {{#unless message}}
          Please select a message.
        {{ else }}
          <div id='messages-detail-header'>
            <ul>
              <li>
                <b>From:</b> {{ message.fromName }} ({{message.fromEmail}})
              </li>
              <li>
                <b>Received:</b> {{ message.dateString }} ({{message.time}})
              </li>
            </ul>
          </div>
          <h1>Subject: {{ message.subject }}</h1>
          <p>{{message.content}}</p>
        {{/unless}}
      </div>
    </script>
  </body>
</html>
